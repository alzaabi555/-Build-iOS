<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>راصد</title>
    <meta name="theme-color" content="#1e3a8a" />
    <meta name="description" content="تطبيق راصد للمعلم العماني">

    <script>
      window.onerror = function(msg, url, line, col, error) {
        var loader = document.getElementById('initial-loader');
        if (loader) {
          loader.innerHTML = 
            '<div style="direction:rtl; text-align:center; padding:20px; color: #ef4444;">' +
            '<h3 style="margin-bottom:10px;">حدث خطأ أثناء البدء</h3>' +
            '<p style="font-size:12px; opacity:0.8; font-family: monospace;">' + msg + '</p>' +
            '<button onclick="window.location.reload()" style="margin-top:20px; padding:10px 20px; background:#1e3a8a; color:white; border:none; borderRadius:8px;">تحديث الصفحة</button>' +
            '</div>';
        }
      };
    </script>
  </head>
  
  <body class="bg-[#f3f4f6] text-slate-900 select-none antialiased overflow-hidden m-0 p-0">
    
    <div id="root">
        <div id="initial-loader" style="position:fixed; inset:0; background:#f3f4f6; display:flex; flex-direction:column; align-items:center; justify-content:center; z-index:9999;">
            <div style="width:50px; height:50px; border:4px solid #e2e8f0; border-top-color:#1e3a8a; border-radius:50%; animation:spin 1s linear infinite;"></div>
            <p style="margin-top:20px; font-family:sans-serif; font-weight:bold; color:#1e3a8a;">جاري تحميل راصد...</p>
        </div>
        <style>@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }</style>
    </div>

    <script type="module" src="./src/index.tsx"></script>
    
  </body>
</html>
